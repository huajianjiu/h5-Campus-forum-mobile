(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac180dbc"],{"0af1":function(e,t,a){},"555a":function(e,t,a){e.exports=a.p+"static/img/icon.844129a2.png"},bf25:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100vh","background-color":"#fff"}},[a("van-nav-bar",{attrs:{fixed:"",border:!1,placeholder:"",title:"用户登录","left-arrow":""},on:{"click-left":function(t){return e.$router.go(-1)}}}),e._m(0),a("van-cell-group",{attrs:{inset:"",border:!1}},[a("van-form",{on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"username",label:"账号",placeholder:"手机号",rules:[{required:!0,message:"请填写账号"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticStyle:{margin:"20px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)],1)],1),a("div",{staticStyle:{"text-align":"center"}},[a("router-link",{attrs:{to:"/register"}},[e._v(" 没有账号？去注册"),a("span",{staticClass:"iconfont"},[e._v("")])])],1)],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"middle"},[r("div",[r("img",{attrs:{width:"50px",height:"50px",src:a("555a"),alt:""}})]),r("span",{staticClass:"name"},[e._v("校园论坛登录")])])}],s=(a("ac1f"),a("5319"),a("96cf"),a("c964")),o={name:"Login",data:function(){return{username:"",password:"",toastShow:0}},methods:{onSubmit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.$toast.loading({message:"登录中...",forbidClick:!0,loadingType:"spinner",duration:t.toastShow}),a.next=4,t.$store.dispatch("user/login",e);case 4:t.toastShow=1,t.$router.replace({path:t.$route.query.redirect||"/"}),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](0),t.toastShow=1,t.$toast.fail({message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},i=o,c=(a("fe6b"),a("2877")),l=Object(c["a"])(i,r,n,!1,null,"421beb4b",null);t["default"]=l.exports},fe6b:function(e,t,a){"use strict";var r=a("0af1"),n=a.n(r);n.a}}]);